package com.anthonydresser.ece2799;import android.content.ActivityNotFoundException;import android.content.Context;import android.hardware.ConsumerIrManager;import android.speech.RecognizerIntent;import android.support.v7.app.ActionBarActivity;import android.os.Bundle;import android.view.Menu;import android.view.MenuItem;import android.view.View;import android.widget.Button;import android.content.Intent;import android.widget.TextView;import android.widget.Toast;import java.util.ArrayList;public class MainActivity extends ActionBarActivity {    protected static final int RESULT_SPEECH = 1;    private TextView txtText;    private ConsumerIrManager mCIR;    int[] pattern_test = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562};    int[] pattern_lighton = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562};    int[] pattern_lightoff = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562, 562, 1687, 562, 1687};    int[] pattern_lighttoggle = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562, 562, 1687, 562, 1687, 562, 562, 562, 1687};    int[] pattern_fanon = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562};    int[] pattern_fanoff = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 1687, 562, 562};    int[] pattern_fantoggle = {562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562, 562, 562, 562, 562, 562,            562, 562, 562, 562, 1687, 562, 562, 562, 1687, 562, 562};    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        txtText = (TextView) findViewById(R.id.textView);        final Button updateBtn = (Button) findViewById(R.id.button);        final Button send1Btn = (Button) findViewById(R.id.button_send_1);        final Button send2Btn = (Button) findViewById(R.id.button_send_2);        final Button send3Btn = (Button) findViewById(R.id.button_send_3);        final Button send4Btn = (Button) findViewById(R.id.button_send_4);        final Button sendtoggle1Btn = (Button) findViewById(R.id.button_send_toggle_1);        final Button sendtoggle2Btn = (Button) findViewById(R.id.button_send_toggle_2);        mCIR = (ConsumerIrManager) getSystemService(Context.CONSUMER_IR_SERVICE);        if (!mCIR.hasIrEmitter()) {            Toast t = Toast.makeText(getApplicationContext(),                    "Your device does not have an IR Transmitter",                    Toast.LENGTH_SHORT);            t.show();        }        updateBtn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Intent intent = new Intent(                        RecognizerIntent.ACTION_RECOGNIZE_SPEECH);                intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, "en-US");                try {                    startActivityForResult(intent, RESULT_SPEECH);                    txtText.setText("");                } catch (ActivityNotFoundException a) {                    Toast t = Toast.makeText(getApplicationContext(),                            "Opps! Your device doesn't support Speech to Text",                            Toast.LENGTH_SHORT);                    t.show();                }            }        });        send1Btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                mCIR.transmit(38222, pattern_lighton);            }        });        send2Btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                mCIR.transmit(38222, pattern_lightoff);            }        });        send3Btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                mCIR.transmit(38222, pattern_fanon);            }        });        send4Btn.setOnClickListener(new View.OnClickListener() {            @Override        public void onClick(View v) {                mCIR.transmit(38222, pattern_fanoff);            }        });        sendtoggle1Btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                mCIR.transmit(38222, pattern_lighttoggle);            }        });        sendtoggle2Btn.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                mCIR.transmit(38222, pattern_fantoggle);            }        });    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        // Inflate the menu; this adds items to the action bar if it is present.        getMenuInflater().inflate(R.menu.menu_main, menu);        return true;    }    @Override    protected void onActivityResult(int requestCode, int resultCode, Intent data) {        String results;        super.onActivityResult(requestCode, resultCode, data);        switch (requestCode) {            case RESULT_SPEECH: {                if (resultCode == RESULT_OK && null != data) {                    ArrayList<String> text = data                            .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);                    results = text.get(0);                    txtText.setText(results);                    if (results.toLowerCase().contains("light"))                        if (results.toLowerCase().contains("on"))                            mCIR.transmit(38222, pattern_lighton);                        else if (results.toLowerCase().contains("off"))                            mCIR.transmit(38222, pattern_lightoff);                        else                            mCIR.transmit(38222, pattern_lighttoggle);                    if (results.toLowerCase().contains("fan"))                        if (results.toLowerCase().contains("on"))                            mCIR.transmit(38222, pattern_fanon);                        else if (results.toLowerCase().contains("off"))                            mCIR.transmit(38222, pattern_fanoff);                        else                            mCIR.transmit(38222, pattern_fantoggle);                }                break;            }        }    }    @Override    public boolean onOptionsItemSelected(MenuItem item) {        // Handle action bar item clicks here. The action bar will        // automatically handle clicks on the Home/Up button, so long        // as you specify a parent activity in AndroidManifest.xml.        int id = item.getItemId();        //noinspection SimplifiableIfStatement        if (id == R.id.action_settings) {            return true;        }        return super.onOptionsItemSelected(item);    }    private void SendIR() {    }}